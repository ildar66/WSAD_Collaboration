<!--DITA to HTML transform for WAS-->
<html>
<head>
<META http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>資料來源設定</title>
<link rel="stylesheet" href="was_style_help.css">

</head>
<body>
<a name="Data_source_detail"></a>
<h2>資料來源設定</h2>

<p>利用這個頁面，在 JDBC 提供者下建立一個資料來源，來提供特定 JDBC 驅動程式實作類別。</p>

<p>請確定您要使用 5.0 版資料來源。
如果您是在使用 Enterprise JavaBean 元件模型 1.0 版和 Servlet 2.2，您必須使用 4.0 版資料來源。
</p>

<p>如果要檢視這個管理主控台頁面，請按一下<strong>資源</strong> &gt; <strong>JDBC 提供者</strong> &gt; <em>JDBC_provider</em> &gt; <strong>資料來源</strong> &gt; <em>data_source</em>。
</p>

<div>
<p>
<strong>「配置」標籤</strong>
</p>
<dl>
<dt>
<strong><a name="DataSource_detail_contextID"></a>範圍</strong>
</dt>
<dd>指定這個資源定義的層次是可見的 -- Cell、節點或伺服器層次。

<p>JDBC 提供者、名稱空間連結或共用程式庫之類的資源可以定義在多個範圍，定義在較明確範圍的資源會改寫定義在較一般範圍的複本。
</p>

<p>請注意，不管所定義的資源範圍是什麼，資源的內容只適用於個別的伺服器層次。
比方說，如果您在 Cell 層次定義資料來源的範圍，則 Cell 中所有的使用者，都可以查閱以及使用這個資料來源，而這個資料來源在該 Cell 中是唯一的。
但是，資源內容設定對於 Cell 中的每一個伺服器來說，是本端設定。
比方說，如果您將<em>連線數上限</em>定義為 10，則該 Cell 中的每一個伺服器都可以有多達 10 個連線。
<dl>

<dt>
<strong>Cell</strong>
</dt>
<dd>最一般的範圍。除非遭到置換，否則，所有節點和伺服器都能看到 Cell 範圍所定義的資源。
如果要檢視 Cell 範圍中所定義的資源，請不要在範圍選擇表單中指定伺服器或節點名稱。</dd>

<dt>
<strong>節點</strong>
</dt>
<dd>大部分資源類型的預設範圍。定義在節點範圍的資源會置換任何定義在 Cell 範圍的複本，且相同節點中的所有伺服器都能看到它們，除非它們在這個節點的伺服器範圍中遭到置換。
如果要檢視節點範圍中所定義的資源，請不要指定伺服器，但在範圍選擇表單中選取一個節點名稱。</dd>

<dt>
<strong>伺服器</strong>
</dt>
<dd>定義資源的最特定範圍。
定義在「伺服器」範圍的資源會置換任何定義在 Cell 範圍或「母節點」範圍的重複資源定義，而且僅特定伺服器能夠看到它們。如果要檢視定義在伺服器範圍中的資源，請在範圍選擇表單中指定伺服器名稱和節點名稱。</dd>

</dl>
</p>

<p>當建立資源時，始終都會將它們建立畫面中所選取的現行範圍內。
如果要檢視其他範圍中的資源，請在範圍選擇表單中指定不同的節點或伺服器。</p>

<table cellpadding="1">

<tr>

<td align="left" valign="top" class="base" style="background-color:#dedede">資料類型</td>
<td align="left" valign="top" class="base">字串</td>

</tr>

</table>

</dd>
<dt>
<strong><a name="J2EEResourceFactory_name_displayName"></a>名稱
</strong>
</dt>
<dd>指定資料來源的顯示名稱。
<p>比方說，您可以將這個欄位設為<em>測試資料來源</em>。</p>

<table cellpadding="1">

<tr>

<td align="left" valign="top" class="base" style="background-color:#dedede">資料類型</td>
<td align="left" valign="top" class="base">字串</td>

</tr>

</table>

</dd>
<dt>
<strong><a name="J2EEResourceFactory_jndiName_displayName"></a>JNDI 名稱</strong>
</dt>
<dd>指定 Java 命名和目錄介面 (JNDI) 名稱。
<p>分散式運算環境通常會使用命名和目錄服務來取得共用的元件和資源。命名和目錄服務會建立起名稱和位置、服務、資訊與資源的關聯。</p>

<p>命名服務會提供名稱至物件的對映。
目錄服務會提供物件和尋找這些物件所需要之搜尋工具的相關資訊。</p>

<p>命名和目錄服務實作有許多種，它們的介面也各不相同。JNDI 提供一個用來存取各種命名和目錄服務的共用介面。</p>

<p>比方說，您可以使用 <em>jdbc/markSection</em> 這個名稱。</p>

<p>如果這個欄位保留空白，就會從資料來源的名稱產生 JNDI 名稱。比如說，資料來源
名稱 markSection 會產生 <em>jdbc/markSection</em> 的 JNDI 名稱。</p>

<p>設定及儲存好這個值並重新啟動伺服器之後，當您執行 <em>dumpnamespace</em> 時，您應該能夠看到這個字串。
</p>

<table cellpadding="1">

<tr>

<td align="left" valign="top" class="base" style="background-color:#dedede">資料類型</td>
<td align="left" valign="top" class="base">字串</td>

</tr>

</table>

</dd>
<dt>
<strong><a name="DataSource_isUsedByCmp_displayName"></a>儲存區管理的持續性</strong>
</dt>
<dd>指定這個資料來源是不是用於 Enterprise Bean 的儲存區管理持續性。

<p>如果選取這個勾選框，就會針對關聯式資源配接器來建立對應於這個資料來源的 CMP 連接器 Factory。
</p>

<table cellpadding="1">

<tr>

<td align="left" valign="top" class="base" style="background-color:#dedede">資料類型</td>
<td align="left" valign="top" class="base">勾選框</td>

</tr>

<tr>

<td align="left" valign="top" class="base" style="background-color:#dedede">預設值</td>
<td align="left" valign="top" class="base">未勾選</td>

</tr>

</table>

</dd>
<dt>
<strong><a name="J2EEResourceFactory_description_displayName"></a>說明
</strong>
</dt>
<dd>指定資源的文字說明。
<table cellpadding="1">

<tr>

<td align="left" valign="top" class="base" style="background-color:#dedede">資料類型</td>
<td align="left" valign="top" class="base">字串</td>

</tr>

</table>

</dd>
<dt>
<strong><a name="J2EEResourceFactory_category_displayName"></a>種類</strong>
</dt>
<dd>指定可用來將資源分類或分組的種類字串。

<table cellpadding="1">

<tr>

<td align="left" valign="top" class="base" style="background-color:#dedede">資料類型</td>
<td align="left" valign="top" class="base">字串</td>

</tr>

</table>

</dd>
<dt>
<strong><a name="DataSource_statementCacheSize_displayName"></a>陳述式快取記憶體大小</strong>
</dt>
<dd>指定每個連線所要快取的可用陳述式數目。
<p>WebSphere Application Server 資料來源，會將備妥陳述式的處理最佳化。
備妥陳述式是經過前置編譯，而儲存在備妥陳述式物件中的 SQL 陳述式。
之後，就可以利用這個物件，多次有效執行所給定的 SQL 陳述式。
</p>

<p>如果快取記憶體不夠大，就會捨棄有用的項目，清出空間來容納新的項目。
如果要判斷您的快取大小的最大值來避免捨棄任何快取，請新增在特定伺服器中使用這個資料來源的每個應用程式的唯一備妥陳述式、可呼叫陳述式的數目（如 <em>sql</em> 字串、並行性及捲動類型所決定）。
這個值是在伺服器的生命過程中，給定連線所可能快取的備妥陳述式數目上限。
將快取大小設為這個值，表示永遠不捨棄快取。
通常應用程式的陳述式越多，快取記憶體就越大。
比方說，如果應用程式有 5 個 SQL 陳述式，請將陳述式的快取記憶體大小設為 5，這樣每一個連線就有 5 個陳述式了。
</p>

<p>您也可以利用 Tivoli 效能檢視器，將快取捨棄的數目縮到最小。
請使用代表一般收到的用戶端要求數目的標準工作量；使用固定數目的疊代；以及使用標準的配置設定集。
<strong>附註：</strong>陳述式快取數目越高，系統資源的延遲越久。
因此，如果您將這個數目設得太高，您可能會因為系統無法開啟這麼多備妥陳述式而缺少資源。
</p>

<p>在測試應用程式中，調整陳述式快取可以改進通訊量 10-20%。
不過，由於可能的資源限制，這不一定可能。
</p>

<table cellpadding="1">

<tr>

<td align="left" valign="top" class="base" style="background-color:#dedede">資料類型</td>
<td align="left" valign="top" class="base">整數</td>

</tr>

<tr>

<td align="left" valign="top" class="base" style="background-color:#dedede">預設值</td>
<td align="left" valign="top" class="base">隨著資料庫而不同。
大部分是 10。
沒有最新修正程式的 Informix 7.3、9.2 或 9.3 版必須是 0。預設值 0 表示沒有快取陳述式。
</td>

</tr>

</table>

</dd>
<dt>
<strong><a name="DataSource_datasourceHelperClassname_displayName"></a>資料來源 Helper 類別名稱</strong>
</dt>
<dd>指定用來執行資料庫特定函數的資料儲存庫 Helper。

<p>這是關聯式資源配接器在執行時期時所使用的。預設的 DataStoreHelper 實作類別是依據 JDBC 驅動程式實作類別，利用下列結構來設定的：<em>com.ibm.websphere.rsadapter.&lt;database&gt;DataStoreHelper</em>。
比方說，如果 JDBC 提供者為 DB2，則預設 DataStoreHelper 類別
為 <em>com.ibm.websphere.rsadapter.DB2DataStoreHelper</em>。必要的話，您可以變更至這個 DataStoreHelper 的您的子類別。</p>

<table cellpadding="1">

<tr>

<td align="left" valign="top" class="base" style="background-color:#dedede">資料類型</td>
<td align="left" valign="top" class="base">字串</td>

</tr>

<tr>

<td align="left" valign="top" class="base" style="background-color:#dedede">預設值</td>
<td align="left" valign="top" class="base">相依於 JDBC 驅動程式實作類別</td>

</tr>

</table>

</dd>
<dt>
<strong><a name="DataSource_authDataAlias_displayName"></a>內容管理鑑別別名</strong>
</dt>
<dd>這個別名專供執行時期的資料庫鑑別使用。

<p>如果您的資源鑑別 (res-auth) 設為<em>應用程式</em>，請在元件管理的鑑別別名中設定別名。</p>

<p>如果您沒有設定這個欄位，且您的資料庫需要使用者 ID 和密碼來取得連線，在執行時期會發生異常狀況。
</p>

<p>如果您的資料庫（如 Cloudscape）不支援<em>使用者 ID</em>和<em>密碼</em>，請勿在元件管理的鑑別別名或儲存區管理的鑑別別名欄位中設定別名。
否則，系統日誌會出現警告訊息，指出使用者和密碼不是有效內容。
這個訊息只是警告訊息，因此，會順利建立資料來源。</p>

<table cellpadding="1">

<tr>

<td align="left" valign="top" class="base" style="background-color:#dedede">資料類型</td>
<td align="left" valign="top" class="base">挑選清單</td>

</tr>

</table>

</dd>
<dt>
<strong><a name="DataSource_mappingModule_authDataAlias_displayName"></a>儲存區管理鑑別別名</strong>
</dt>
<dd>這個別名專供執行時期的資料庫鑑別使用。

<p>如果您的 res-auth 設為<em>儲存區</em>，請設定儲存區管理的鑑別別名。
</p>

<p>如果您沒有設定這個欄位，且您的資料庫需要使用者 ID 和密碼來取得連線，在執行時期會發生異常狀況。
</p>

<p>如果您的資料庫（如 Cloudscape）不支援<em>使用者 ID</em>和<em>密碼</em>，請勿在元件管理的鑑別別名或儲存區管理的鑑別別名欄位中設定別名。
否則，系統日誌會出現警告訊息，指出使用者和密碼不是有效內容。
這個訊息只是警告訊息，因此，會順利建立資料來源。</p>

<table cellpadding="1">

<tr>

<td align="left" valign="top" class="base" style="background-color:#dedede">資料類型</td>
<td align="left" valign="top" class="base">挑選清單</td>

</tr>

</table>

</dd>
<dt>
<strong><a name="DataSource_mappingConfigAlias"></a>對映配置別名</strong>
</dt>
<dd>可讓使用者從<strong>安全</strong> &gt; <strong>JAAS 配置</strong> &gt; <strong>應用程式登入配置</strong>清單中選取。

<p>
<strong>DefaultPrincipalMapping</strong> JAAS 配置會將鑑別別名對映至使用者 ID 和密碼。您可以定義和使用其他對映配置。</p>

<table cellpadding="1">

<tr>

<td align="left" valign="top" class="base" style="background-color:#dedede">資料類型</td>
<td align="left" valign="top" class="base">挑選清單</td>

</tr>

</table>

</dd>
</dl>
</div>
<div>
<p>
<strong>相關資訊</strong>
</p>
<a href="rcon_buttons.html">管理主控台按鈕</a>
<br>

</div>
</body>
</html>
