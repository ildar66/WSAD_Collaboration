<!--DITA to HTML transform for WAS-->
<html>
<head>
<META http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>データ・ソース設定</title>
<link rel="stylesheet" href="was_style_help.css">

</head>
<body>
<a name="Data_source_detail"></a>
<h2>データ・ソース設定</h2>

<p>このページを使用して、
特定の JDBC ドライバー・インプリメンテーション・クラスを提供する JDBC プロバイダーの下にデータ・ソースを作成します。
</p>

<p>バージョン 5.0 のデータ・ソースを使用する必要があるか確認してください。
Enterprise JavaBean コンポーネント・モデル・バージョン 1.0、
および Servlets 2.2 を使用している場合は、バージョン 4.0 データ・ソースを
使用しなければなりません。</p>

<p>この管理コンソール・ページを表示するには、「
<strong>リソース</strong>」&gt;「<strong>JDBC プロバイダー</strong>」&gt;「<em>JDBC_provider</em>」&gt;「<strong>データ・ソース</strong>」&gt;「<em>data_source</em>」をクリックします。</p>

<div>
<p>
<strong>「構成」タブ</strong>
</p>
<dl>
<dt>
<strong><a name="DataSource_detail_contextID"></a>有効範囲</strong>
</dt>
<dd>このリソース定義を可視にするレベル (セル、ノード、またはサーバーの
各レベル) を指定します。

<p>JDBC プロバイダー、ネーム・スペース・バインディング、
共用ライブラリーなどのリソースを複数の有効範囲で定義することが可能です。
より限定的な有効範囲で定義されたリソースは、
それより広い有効範囲で定義された重複するリソースをオーバーライドします。
</p>

<p>定義済みリソースの有効範囲が何であれ、そのリソースのプロパティーは
個々のサーバー・レベルでのみ適用されることに注意して下さい。
例えば、あるデータ・ソースの有効範囲を「セル」レベルで定義する場合、
そのセルのすべてのユーザーが、そのデータ・ソースをルックアップおよび使用できます。
このとき、そのデータ・ソースはそのセル内で固有です。ただし、リソース・プロパティーの設定値は、そのセル内の各サーバーに対してローカルです。例えば、<em>最大接続数</em> を 10 に設定する場合、そのセル内の
各サーバーは 10 個の接続を使用できます。<dl>

<dt>
<strong>セル</strong>
</dt>
<dd>最も一般的な有効範囲です。「セル」有効範囲で定義されている
リソースは、オーバーライドされない限り、すべてのノードおよびサーバーから可視です。
「セル」有効範囲で定義されたリソースを表示する場合は、
有効範囲選択フォームでサーバーまたはノードの名前を指定しないでください。
</dd>

<dt>
<strong>ノード</strong>
</dt>
<dd>大部分のリソース・タイプのデフォルト有効範囲。
「ノード」有効範囲で定義されたリソースは、「
セル」有効範囲で定義されたすべての重複するリソースをオーバーライドします。
同じノード上の「サーバー」有効範囲でオーバーライドされない限り、
そのノード上のすべてのサーバーから可視です。
「ノード」有効範囲で定義されたリソースを表示する場合は、
有効範囲選択フォームで、サーバーを指定せず、ノード名を選択します。
</dd>

<dt>
<strong>サーバー</strong>
</dt>
<dd>リソース定義で最も限定的な有効範囲です。「サーバー」
有効範囲で定義されたリソースは、「セル」有効範囲または親の「ノード」有効範囲で
定義されたすべての重複するリソース定義をオーバーライドし、
特定のサーバーからのみ可視です。
「サーバー」有効範囲で定義されたリソースを表示するには、
有効範囲選択フォームで、ノード名だけでなくサーバー名も指定します。
</dd>

</dl>
</p>

<p>リソースが作成されるときは常に、パネルで選択されている現行の有効範囲内に
作成されます。
他の有効範囲でリソースを表示する場合は、有効範囲選択フォームで、
別のノードまたはサーバーを指定します。
</p>

<table cellpadding="1">

<tr>

<td align="left" valign="top" class="base" style="background-color:#dedede">データ型</td>
<td align="left" valign="top" class="base">ストリング</td>

</tr>

</table>

</dd>
<dt>
<strong><a name="J2EEResourceFactory_name_displayName"></a>名前</strong>
</dt>
<dd>データ・ソースの表示名を指定します。
<p>例えば、このフィールドを <em>Test Data Source</em> に設定することができます。</p>

<table cellpadding="1">

<tr>

<td align="left" valign="top" class="base" style="background-color:#dedede">データ型</td>
<td align="left" valign="top" class="base">ストリング</td>

</tr>

</table>

</dd>
<dt>
<strong><a name="J2EEResourceFactory_jndiName_displayName"></a>JNDI 名</strong>
</dt>
<dd>Java Naming and Directory Interface (JNDI) 名を指定します。
<p>分散コンピューティング環境では、共用コンポーネントおよびリソースを
取得するために、ネーミングおよびディレクトリー・サービスを頻繁に使用
します。ネーミング・サービスおよびディレクトリー・サービスは、名前を
ロケーション、サービス、情報、およびリソースと関連付けます。</p>

<p>ネーミング・サービスは、名前からオブジェクトへのマッピングを行います。
ディレクトリー・サービスは、
オブジェクトに関する情報と、それらのオブジェクトを探し出すのに必要な検索ツールを提供します。 </p>

<p>ネーミングおよびディレクトリー・サービスのインプリメンテーションの数は多く、
そのインターフェースもさまざまです。JNDI は、
各種のネーミング・サービスおよびディレクトリー・サービスへのアクセスに使用する
共通インターフェースを提供します。
</p>

<p>例えば、<em>jdbc/markSection</em> という名前を使用することができます。</p>

<p>このフィールドをブランクにしておくと、データ・ソースの名前から JNDI 名が生成されます。
例えば、データ・ソース名 markSection からは、JNDI 名 <em>jdbc/markSection</em> が生成されます。</p>

<p>この値を設定し、保管し、サーバーを再始動した後に <em>dumpnamespace</em> を実行すると、
このストリングを表示することができます。</p>

<table cellpadding="1">

<tr>

<td align="left" valign="top" class="base" style="background-color:#dedede">データ型</td>
<td align="left" valign="top" class="base">ストリング</td>

</tr>

</table>

</dd>
<dt>
<strong><a name="DataSource_isUsedByCmp_displayName"></a>コンテナー管理パーシスタンス</strong>
</dt>
<dd>このデータ・ソースが Enterprise Bean のコンテナー管理パーシスタンスに
使用されるかどうかを指定します。
<p>チェック・ボックスが選択されている場合、このデータ・ソース
に対応する CMP コネクター・ファクトリーが、リレーショナル・リソース・アダプター用に
作成されます。
</p>

<table cellpadding="1">

<tr>

<td align="left" valign="top" class="base" style="background-color:#dedede">データ型</td>
<td align="left" valign="top" class="base">チェック・ボックス</td>

</tr>

<tr>

<td align="left" valign="top" class="base" style="background-color:#dedede">デフォルト</td>
<td align="left" valign="top" class="base">チェックマークなし</td>

</tr>

</table>

</dd>
<dt>
<strong><a name="J2EEResourceFactory_description_displayName"></a>説明</strong>
</dt>
<dd>リソースを説明するテキストを指定します。
<table cellpadding="1">

<tr>

<td align="left" valign="top" class="base" style="background-color:#dedede">データ型</td>
<td align="left" valign="top" class="base">ストリング</td>

</tr>

</table>

</dd>
<dt>
<strong><a name="J2EEResourceFactory_category_displayName"></a>カテゴリー</strong>
</dt>
<dd>リソースを分類またはグループ化するために使用できるカテゴリー・ストリングを指定します。

<table cellpadding="1">

<tr>

<td align="left" valign="top" class="base" style="background-color:#dedede">データ型</td>
<td align="left" valign="top" class="base">ストリング</td>

</tr>

</table>

</dd>
<dt>
<strong><a name="DataSource_statementCacheSize_displayName"></a>ステートメントのキャッシュ・サイズ</strong>
</dt>
<dd>接続ごとにキャッシュされるフリーのステートメントの数を指定します。

<p>WebSphere Application Server データ・ソースは、準備済みステートメントの処理を最適化します。
準備済みステートメントとは、準備済みステートメント・オブジェクト内に保管される、プリコンパイルされた SQL ステートメントです。
このオブジェクトは、所定の SQL ステートメントを効率的に複数回実行するために使用します。
</p>

<p>キャッシュが十分な大きさではない場合は、有用なエントリーでも、新しいエントリーの余地を作るために廃棄されます。キャッシュが破棄されないようにするためにキャッシュ・サイズを最大値に指定するには、特定のサーバー上のこのデータ・ソースを使用するアプリケーションごとに、固有の準備済みステートメント、呼び出し可能ステートメント (<em>sql</em> ストリング、並行性、およびスクロール・タイプによって判別されるとおりに) を追加します。
この値はサーバーの存続期間中、特定の接続上にキャッシュできる
準備済みステートメントの最大数です。キャッシュ・サイズをこの値に設定する
ということは、決してキャッシュ廃棄を行わないということです。一般に、ア
プリケーションの持つステートメントが多いほど、キャッシュを大きくする必要
があります。例えば、アプリケーションが 5 つの SQL ステートメントを持つとすれば、
ステートメントのキャッシュ・サイズを 5 に設定して、それぞれの接続が 5 つのステートメントを持つようにします。 </p>

<p>また、Tivoli Performance Viewer を使用すると、キャッシュの廃棄数を最小化できます。着信
クライアント要求の標準数を表す標準のワークロード、固定の反復回数、および標準セットの構成設定値を使用します。 <strong>注 : </strong>ステートメントのキャッシュが大きいほど、システム・リソースの遅延も大きくなります。したがって、
設定した値が大きすぎると、システムがそれほど多くの準備済みステートメントを開くことができないために、リソースが
不足することがあります。</p>

<p>テスト・アプリケーションでは、ステートメントのキャッシュの
チューニングによって、スループットが 10 から 20% 改善されました。

ただし、リソースに制限がある場合もあるため、
必ずしもそうなるとは限りません。</p>

<table cellpadding="1">

<tr>

<td align="left" valign="top" class="base" style="background-color:#dedede">データ型</td>
<td align="left" valign="top" class="base">整数</td>

</tr>

<tr>

<td align="left" valign="top" class="base" style="background-color:#dedede">デフォルト</td>
<td align="left" valign="top" class="base">データベースにより異なります。たいていの場合は 10 です。
また、最新の修正を行っていない Informix Version 7.3、9.2、または 9.3 では、0 にする必要
があります。デフォルトが 0 ということは、キャッシュ・ステートメントがないことを
意味します。
</td>

</tr>

</table>

</dd>
<dt>
<strong><a name="DataSource_datasourceHelperClassname_displayName"></a>データ・ソース・ヘルパー・クラス名</strong>
</dt>
<dd>データベース固有の機能を実行するために使用されるデータ・ストア・ヘルパーを指定します。

<p>これは、リレーショナル・リソース・アダプターが実行時に使用します。
デフォルトの DataStoreHelper インプリメンテーション・クラスは、JDBC ドライバー・
インプリメンテーション・クラスに基づいて設定されます。このとき使用される
構造は、<em>com.ibm.websphere.rsadapter.&lt;database&gt;DataStoreHelper</em> です。
例えば、JDBC プロバイダーが DB2 である場合、
デフォルトの DataStoreHelper クラスは、<em>com.ibm.websphere.rsadapter.DB2DataStoreHelper</em> です。必要に応じて、この DataStoreHelper のサブクラスに変更することができます。</p>

<table cellpadding="1">

<tr>

<td align="left" valign="top" class="base" style="background-color:#dedede">データ型</td>
<td align="left" valign="top" class="base">ストリング</td>

</tr>

<tr>

<td align="left" valign="top" class="base" style="background-color:#dedede">デフォルト</td>
<td align="left" valign="top" class="base">JDBC ドライバー・インプリメンテーション・クラスによって異なります</td>

</tr>

</table>

</dd>
<dt>
<strong><a name="DataSource_authDataAlias_displayName"></a>コンポーネント管理認証エイリアス</strong>
</dt>
<dd>このエイリアスは実行時のデータベース認証に使用されます。

<p>リソース認証 (res-auth) が「<em>アプリケーション</em>」に設定されている場合は、「
Component-managed Authentication Alias」にエイリアスを設定します。
</p>

<p>このフィールドを設定せず、しかもデータベースが接続を確立するためにユーザー ID と
パスワードを必要とする場合は、実行時に例外が発生します。
</p>

<p>データベース (例えば、Cloudscape など) が<em>ユーザー ID</em> と<em>パスワード</em> を
サポートしていない場合は、コンポーネント管理認証エイリアスまたは
コンテナー管理認証エイリアスのフィールドで、エイリアスを設定しないでください。
設定した場合は、システム・ログにユーザーおよびパスワードが有効なプロパティーではない
ことを示す警告メッセージが記述されます。このメッセージは、単なる警告メッセージ
であり、データ・ソースは正常に作成されます。</p>

<table cellpadding="1">

<tr>

<td align="left" valign="top" class="base" style="background-color:#dedede">データ型</td>
<td align="left" valign="top" class="base">ピック・リスト</td>

</tr>

</table>

</dd>
<dt>
<strong><a name="DataSource_mappingModule_authDataAlias_displayName"></a>コンテナー管理認証エイリアス</strong>
</dt>
<dd>このエイリアスは実行時のデータベース認証に使用されます。

<p>res-auth が「<em>コンテナー</em>」に設定されている場合は、「Container-managed Authentication Alias」を設定します。</p>

<p>このフィールドを設定せず、しかもデータベースが接続を確立するためにユーザー ID と
パスワードを必要とする場合は、実行時に例外が発生します。
</p>

<p>データベース (例えば、Cloudscape など) が<em>ユーザー ID</em> と<em>パスワード</em> を
サポートしていない場合は、コンポーネント管理認証エイリアスまたは
コンテナー管理認証エイリアスのフィールドで、エイリアスを設定しないでください。
設定した場合は、システム・ログにユーザーおよびパスワードが有効なプロパティーではない
ことを示す警告メッセージが記述されます。このメッセージは、単なる警告メッセージ
であり、データ・ソースは正常に作成されます。</p>

<table cellpadding="1">

<tr>

<td align="left" valign="top" class="base" style="background-color:#dedede">データ型</td>
<td align="left" valign="top" class="base">ピック・リスト</td>

</tr>

</table>

</dd>
<dt>
<strong><a name="DataSource_mappingConfigAlias"></a>マッピング構成エイリアス</strong>
</dt>
<dd>ユーザーが、「<strong>セキュリティー</strong>」&gt;「<strong>JAAS 構成</strong>」&gt;
<strong>Application Logins Configuration</strong> リストから選択できるようにします。

<p>
<strong>DefaultPrincipalMapping</strong> JAAS 構成を使用すると、認証エイリアスを
ユーザー ID およびパスワードにマップすることができます。
他のマッピング構成を定義して使用することもできます。
</p>

<table cellpadding="1">

<tr>

<td align="left" valign="top" class="base" style="background-color:#dedede">データ型</td>
<td align="left" valign="top" class="base">ピック・リスト</td>

</tr>

</table>

</dd>
</dl>
</div>
<div>
<p>
<strong>関連情報</strong>
</p>
<a href="rcon_buttons.html">管理コンソールのボタン</a>
<br>

</div>
</body>
</html>
