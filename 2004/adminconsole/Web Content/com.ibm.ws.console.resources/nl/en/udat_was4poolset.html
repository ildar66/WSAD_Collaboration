<!--DITA to HTML transform for WAS-->
<html>
<head>
<META http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
<title>Connection pool (Version 4) settings</title>
<link rel="stylesheet" href="was_style_help.css">

</head>
<body>
<a name="Connection_poolV4_settings"></a>
<h2>Connection pool (Version 4) settings</h2>

<p>Use this page to create a connection pool for a Version 4.0 data
source.</p>

<p>To view this administrative console page, click <strong>Resources</strong> &gt; <strong>JDBC
Providers</strong> &gt; <em>JDBC_provider</em> &gt; <strong>Data Sources (Version 4)</strong> &gt; <em>data_source</em> &gt; <strong>Connection
Pool</strong>.</p>

<div>
<p>
<strong>Configuration tab</strong>
</p>
<dl>
<dt>
<strong><a name="WAS40ConnectionPool_detail_contextID"></a>Scope</strong>
</dt>
<dd>Specifies the level to which this resource definition is visible
-- the cell, node, or server level.
<p>Resources such as JDBC Providers, Namespace bindings, or shared libraries
can be defined at multiple scopes, with resources defined at more specific
scopes overriding duplicates which are defined at more general scopes.</p>

<p>Note that no matter what the scope of a defined resource, the resource's
properties only apply at an individual server level. For example, if you define
the scope of a data source at the Cell level, all users in that Cell can look
up and use that data source, which is unique within that Cell. However, resource
property settings are local to each server in the Cell. For example,
if you define <em>max connections</em> to 10, then each server in that Cell
can have 10 connections.<dl>

<dt>
<strong>Cell</strong>
</dt>
<dd>The most general scope.  Resources defined at the Cell scope
are visible from all Nodes and  servers, unless they are overridden. To view
resources defined in the cell scope, do not specify a server or a node name
in the scope selection  form.</dd>

<dt>
<strong>Node</strong>
</dt>
<dd>The default scope for most resource types.  Resources defined
at the Node scope override  any duplicates defined at the Cell scope and are
visible to all servers on the same node, unless they  are overridden at a
server scope on that node. To view resources defined in a node scope, do not
specify a server, but select a node name in the scope  selection form.</dd>

<dt>
<strong>Server</strong>
</dt>
<dd>The most specific scope for defining resources.  Resources
defined at the Server scope override  any duplicate resource definitions defined
at the Cell scope or parent Node scope and are visible only to  a specific
server. To view resources defined in a server scope, specify a server name
as well as a node name in the scope  selection form.</dd>

</dl>
</p>

<p>When resources are created, they are always created into the current scope
selected in the panel.   To view resources in other scopes, specify a different
node or server in the scope selection form.  </p>

<table cellpadding="1">

<tr>

<td align="left" valign="top" class="base" style="background-color:#dedede">Data type</td>
<td align="left" valign="top" class="base">String</td>

</tr>

</table>

</dd>
<dt>
<strong><a name="WAS40ConnectionPool_minimumPoolSize_description"></a>Minimum Pool Size </strong>
</dt>
<dd>Specifies the minimum number of connections to maintain in the
pool.  
<p>The minimum pool size can affect the performance of an application.  Smaller
pools require less overhead when the demand is low because fewer connections
are held open to the database.  When the demand is high, the first applications
experience a slow response because new connections are created if all others
in the pool are in use.  </p>

<table cellpadding="1">

<tr>

<td align="left" valign="top" class="base" style="background-color:#dedede">Data type</td>
<td align="left" valign="top" class="base">Integer</td>

</tr>

<tr>

<td align="left" valign="top" class="base" style="background-color:#dedede">Default</td>
<td align="left" valign="top" class="base">1</td>

</tr>

<tr>

<td align="left" valign="top" class="base" style="background-color:#dedede">Range</td>
<td align="left" valign="top" class="base">Any non-negative integer.</td>

</tr>

</table>

</dd>
<dt>
<strong><a name="WAS40ConnectionPool_maximumPoolSize_description"></a>Maximum Pool Size </strong>
</dt>
<dd>Specifies the maximum number of connections to maintain in the
pool. 
<p> If the maximum number of connections is reached and all connections are
in use, additional requests for a connection wait up to the number of seconds
specified as the connection timeout. The maximum pool size can affect the
performance of an application.  Larger pools require more overhead when demand
is high because there are more connections open to the database at peak demand.
 These connections persist until idled out of the pool.  If the maximum value
is smaller, longer wait times or possible connection timeout errors during
peak times can occur.  Ensure that the database can support the maximum number
of connections in the application server, in addition to any load that it
has outside of the application server.</p>

<table cellpadding="1">

<tr>

<td align="left" valign="top" class="base" style="background-color:#dedede">Data type</td>
<td align="left" valign="top" class="base">Integer</td>

</tr>

<tr>

<td align="left" valign="top" class="base" style="background-color:#dedede">Default</td>
<td align="left" valign="top" class="base">10</td>

</tr>

<tr>

<td align="left" valign="top" class="base" style="background-color:#dedede">Range</td>
<td align="left" valign="top" class="base">Any positive integer</td>

</tr>

</table>

</dd>
<dt>
<strong><a name="WAS40ConnectionPool_connectionTimeout_description"></a>Connection Timeout </strong>
</dt>
<dd> Specifies the maximum number of seconds an application waits for
a connection from the pool before timing out and throwing a ConnectionWaitTimeoutException
to the application.
<p>Setting this value to 0 disables the connection timeout.</p>

<table cellpadding="1">

<tr>

<td align="left" valign="top" class="base" style="background-color:#dedede">Data type</td>
<td align="left" valign="top" class="base">Integer</td>

</tr>

<tr>

<td align="left" valign="top" class="base" style="background-color:#dedede">Units</td>
<td align="left" valign="top" class="base">Seconds</td>

</tr>

<tr>

<td align="left" valign="top" class="base" style="background-color:#dedede">Default</td>
<td align="left" valign="top" class="base">180</td>

</tr>

<tr>

<td align="left" valign="top" class="base" style="background-color:#dedede">Range</td>
<td align="left" valign="top" class="base">Any non-negative integer</td>

</tr>

</table>

</dd>
<dt>
<strong><a name="WAS40ConnectionPool_idleTimeout_description"></a>Idle Timeout </strong>
</dt>
<dd>Specifies the maximum number of seconds that an idle (unallocated)
connection can remain in the pool before being removed to free resources. 
<p>Connections need to idle out of the pool because keeping connections open
to the database can cause database memory problems.  However, not all connections
are idled out of the pool, even if they are older than the Idle Timeout setting.
 A connection is not idled if removing the connection would cause the pool
to shrink below its minimum size.  Setting this value to 0 disables the idle
timeout.</p>

<table cellpadding="1">

<tr>

<td align="left" valign="top" class="base" style="background-color:#dedede">Data type</td>
<td align="left" valign="top" class="base">Integer</td>

</tr>

<tr>

<td align="left" valign="top" class="base" style="background-color:#dedede">Units</td>
<td align="left" valign="top" class="base">Seconds</td>

</tr>

<tr>

<td align="left" valign="top" class="base" style="background-color:#dedede">Default</td>
<td align="left" valign="top" class="base">1800</td>

</tr>

<tr>

<td align="left" valign="top" class="base" style="background-color:#dedede">Range</td>
<td align="left" valign="top" class="base">Any non-negative integer</td>

</tr>

</table>

</dd>
<dt>
<strong><a name="WAS40ConnectionPool_orphanTimeout_description"></a>Orphan Timeout </strong>
</dt>
<dd>Specifies the maximum number of seconds that an application can
hold a connection without using it before the connection returns to the pool 
<p>If there is no activity on an allocated connection for longer than the
Orphan Timeout setting, the connection is marked for orphaning.  After another
Orphan Timeout number of seconds, if the connection still has no activity,
the connection returns to the pool.  If the application tries to use the connection
again, it is thrown a StaleConnectionException.  Connections that are enlisted
in a transaction are not orphaned.  Setting this value to 0 disables the orphan
timeout. </p>

<table cellpadding="1">

<tr>

<td align="left" valign="top" class="base" style="background-color:#dedede">Data type</td>
<td align="left" valign="top" class="base">Integer</td>

</tr>

<tr>

<td align="left" valign="top" class="base" style="background-color:#dedede">Units</td>
<td align="left" valign="top" class="base">Seconds</td>

</tr>

<tr>

<td align="left" valign="top" class="base" style="background-color:#dedede">Default</td>
<td align="left" valign="top" class="base">1800</td>

</tr>

<tr>

<td align="left" valign="top" class="base" style="background-color:#dedede">Range</td>
<td align="left" valign="top" class="base">Any non-negative integer</td>

</tr>

</table>

</dd>
<dt>
<strong><a name="WAS40ConnectionPool_statementCacheSize_description"></a>Statement Cache Size </strong>
</dt>
<dd> Specifies the number of cached prepared statements to keep per
connection.
<p>The largest value you would need to set your cache size to if you do not
want any cache discards is determined as follows: for each application that
uses this data source on a particular server, add up the number of unique
prepared statements (as determined by the <em>sql</em> string, concurrency,
and the scroll type). This is the maximum number of possible prepared statements
that can be cached on a given connection over the life of the server. Setting
the cache size to this value means you never have cache discards. This provides
better performance. However, because of potential resource limitations, this
might not always be possible.</p>

<table cellpadding="1">

<tr>

<td align="left" valign="top" class="base" style="background-color:#dedede">Data type</td>
<td align="left" valign="top" class="base">Integer</td>

</tr>

<tr>

<td align="left" valign="top" class="base" style="background-color:#dedede">Default</td>
<td align="left" valign="top" class="base">10</td>

</tr>

<tr>

<td align="left" valign="top" class="base" style="background-color:#dedede">Range</td>
<td align="left" valign="top" class="base">Any non-negative integer</td>

</tr>

</table>

</dd>
<dt>
<strong><a name="WAS40ConnectionPool_disableAutoConnectionCleanup_description"></a>Auto Connection Cleanup  </strong>
</dt>
<dd>Specifies whether or not the connection pooling software automatically
closes connections from this data source at the end of a transaction. 
<p> The default is <em>false</em>, which indicates that when a transaction completes, WebSphere Application Server closes
the connection and returns it to the pool.  Any use of the connection after
the transaction has ended results in a StaleConnectionException because the
connection is closed and has returned to the pool.  This mechanism ensures
that connections are not held indefinitely by the application.  If the value
is set to <em>true</em>, the connection is not returned to the pool at the end
of a transaction.  In this case, the application must return the connection
to the pool by calling <em>close()</em>.  If the application does not close
the connection, the pool can run out of connections for other applications
to use.</p>

<table cellpadding="1">

<tr>

<td align="left" valign="top" class="base" style="background-color:#dedede">Data type</td>
<td align="left" valign="top" class="base">Check box</td>

</tr>

<tr>

<td align="left" valign="top" class="base" style="background-color:#dedede">Default</td>
<td align="left" valign="top" class="base">False (clear)</td>

</tr>

</table>

</dd>
</dl>
</div>
<div>
<p>
<strong>Related information</strong>
</p>
<a href="rcon_buttons.html">Administrative console buttons</a>
<br>

<a href="rcon_pageusage.html">Administrative console page features</a>
<br>

</div>
</body>
</html>
